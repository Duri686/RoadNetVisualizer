<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RoadNet Visualizer - 多层道路网络可视化</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: 'class',
        theme: {
          extend: {
            colors: {
              brand: 'var(--primary-color)',
              accent: 'var(--accent-color)',
              page: 'var(--bg-page)',
              card: 'var(--bg-card)',
              input: 'var(--bg-input)',
              'input-hover': 'var(--bg-input-hover)',
              border: {
                light: 'var(--border-light)',
                input: 'var(--border-input)',
              },
              textc: {
                primary: 'var(--text-primary)',
                secondary: 'var(--text-secondary)',
                muted: 'var(--text-muted)',
                white: 'var(--text-white)',
              },
            },
          },
        },
      };
    </script>
    <link rel="stylesheet" href="/src/css/index.css" />
    <style>
      .github-link {
        position: fixed;
        bottom: 32px;
        left: 50%;
        transform: translateX(-50%);
        display: inline-flex;
        align-items: center;
        gap: 10px;
        padding: 8px 14px;
        border-radius: 50px;
        background: rgba(255, 255, 255, 0.08);
        backdrop-filter: blur(8px);
        color: #cbd5e1;
        text-decoration: none;
        transition: background 0.2s ease, color 0.2s ease, transform 0.2s ease;
        z-index: 1000;
        font-weight: 600;
      }
      .github-link:hover {
        background: rgba(255, 255, 255, 0.14);
        color: #ffffff;
      }
      .github-link svg {
        width: 20px;
        height: 20px;
        fill: currentColor;
        display: block;
      }
    </style>
  </head>
  <body
    class="bg-[var(--bg-page)] text-[var(--text-primary)] selection:bg-[var(--primary-color)] selection:text-[var(--text-white)]"
  >
    <a
      href="https://github.com/Duri686/RoadNetVisualizer"
      class="github-link hidden md:inline-flex"
      target="_blank"
      rel="noopener noreferrer"
      aria-label="View project on GitHub"
    >
      <svg viewBox="0 0 16 16" aria-hidden="true">
        <path
          d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.54 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"
        ></path>
      </svg>
      <span>GitHub repository</span>
    </a>
    <div
      class="rn-container flex flex-col lg:grid grid-cols-1 lg:grid-cols-[320px_minmax(0,1fr)_320px] gap-4 lg:gap-6 p-3 lg:p-6 h-[100dvh] lg:h-screen overflow-hidden items-stretch"
    >
      <input
        class="peer/vis sr-only"
        type="radio"
        name="mobile-view"
        id="tab-visualization"
        checked
      />
      <input
        class="peer/op sr-only"
        type="radio"
        name="mobile-view"
        id="tab-operation"
      />
      <input
        class="peer/int sr-only"
        type="radio"
        name="mobile-view"
        id="tab-interpretation"
      />
      <!-- 移动端：横向Tab导航（仅在小屏显示） -->
      <nav
        id="mobile-tabs"
        aria-label="主模块切换"
        role="tablist"
        class="lg:hidden sticky top-2 z-50 mb-2 flex gap-2 p-2 rounded-xl bg-[var(--bg-card)] border border-[var(--border-light)] shadow-[var(--shadow-sm)] backdrop-blur"
      >
        <label
          for="tab-visualization"
          role="tab"
          class="flex-1 text-center px-3 py-2 text-sm rounded-md border border-[var(--border-input)] bg-[var(--bg-input)] text-[var(--text-secondary)] hover:bg-[var(--bg-input-hover)] hover:text-[var(--text-primary)] cursor-pointer peer-checked/vis:bg-[var(--primary-color)] peer-checked/vis:text-[var(--text-white)] peer-checked/vis:border-[var(--primary-color)]"
        >
          地图
        </label>
        <label
          for="tab-operation"
          role="tab"
          class="flex-1 text-center px-3 py-2 text-sm rounded-md border border-[var(--border-input)] bg-[var(--bg-input)] text-[var(--text-secondary)] hover:bg-[var(--bg-input-hover)] hover:text-[var(--text-primary)] cursor-pointer peer-checked/op:bg-[var(--primary-color)] peer-checked/op:text-[var(--text-white)] peer-checked/op:border-[var(--primary-color)]"
        >
          操作
        </label>
        <label
          for="tab-interpretation"
          role="tab"
          class="flex-1 text-center px-3 py-2 text-sm rounded-md border border-[var(--border-input)] bg-[var(--bg-input)] text-[var(--text-secondary)] hover:bg-[var(--bg-input-hover)] hover:text-[var(--text-primary)] cursor-pointer peer-checked/int:bg-[var(--primary-color)] peer-checked/int:text-[var(--text-white)] peer-checked/int:border-[var(--primary-color)]"
        >
          解读
        </label>
      </nav>
      <!-- 左栏：操作面板 (Operation Panel) -->
      <section
        class="operation-panel hidden lg:flex peer-checked/op:flex peer-checked/op:flex-1 flex-col min-w-[280px] max-w-[340px] min-h-0 overflow-y-auto lg:h-full"
      >
        <!-- Control Panel -->
        <rn-operation-panel></rn-operation-panel>
      </section>

      <!-- 中栏：可视化面板 (Visualization Panel) -->
      <section
        class="visualization-panel hidden lg:flex peer-checked/vis:flex peer-checked/vis:flex-1 flex-col min-w-0 min-h-0 overflow-hidden lg:h-full"
      >
        <rn-visualization-panel
          class="flex flex-col flex-1 min-h-0"
        ></rn-visualization-panel>
      </section>

      <!-- 右栏：解读面板 (Interpretation Panel) -->
      <section
        class="interpretation-panel hidden lg:flex peer-checked/int:flex peer-checked/int:flex-1 flex-col min-w-[280px] max-w-[340px] min-h-0 overflow-y-auto lg:h-full"
      >
        <rn-interpretation-panel></rn-interpretation-panel>
      </section>
    </div>

    <script type="module" src="/src/main.js"></script>
  </body>
</html>
